<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satyanarayan Jyotishalay - Modern Astrology Consulting</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Load Firebase/Firestore -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, doc, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Global Firebase variables
        window.firebaseApp = null;
        window.db = null;
        window.auth = null;
        window.userId = null;
        window.isAuthReady = false;

        setLogLevel('Debug');

        // Global variables provided by the environment
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        /**
         * Initializes Firebase and authenticates the user.
         */
        async function initFirebase() {
            if (Object.keys(firebaseConfig).length === 0) {
                console.error("Firebase configuration is missing or empty. Database features will not work.");
                return;
            }

            try {
                window.firebaseApp = initializeApp(firebaseConfig);
                window.db = getFirestore(window.firebaseApp);
                window.auth = getAuth(window.firebaseApp);

                // Authentication
                onAuthStateChanged(window.auth, async (user) => {
                    if (user) {
                        window.userId = user.uid;
                        console.log("Authenticated user:", window.userId);
                    } else if (initialAuthToken) {
                        // Sign in with provided custom token
                        await signInWithCustomToken(window.auth, initialAuthToken);
                        window.userId = window.auth.currentUser.uid;
                    } else {
                        // Sign in anonymously if no token is provided
                        const anonymousUser = await signInAnonymously(window.auth);
                        window.userId = anonymousUser.user.uid;
                        console.log("Signed in anonymously. User ID:", window.userId);
                    }
                    window.isAuthReady = true;
                    console.log("Current App ID:", appId);
                });

            } catch (error) {
                console.error("Firebase initialization failed:", error);
            }
        }

        // Attach function to window for access and initialize
        window.initFirebase = initFirebase;
        initFirebase();
    </script>
    <style>
        /* Custom Styles & Dark/Light Mode Base */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        
        :root {
            /* Smooth scrolling for navigation links */
            scroll-behavior: smooth;
        }

        /* Default (Light) Mode Body Styles */
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s, color 0.5s;
            overflow-x: hidden;
            background-color: #f5f5f5; /* WHITESMOKE */
            color: #000000; /* BLACK */
        }

        /* Dark Mode Body Styles (when 'dark' class is on HTML element) */
        .dark body {
            background-color: #0a0a0a; /* NEAR BLACK */
            color: #cccccc; /* LIGHT GREY (for small/sub-texts) */
        }
        
        /* Custom dark/light mode element transitions */
        .card, .nav-link, #contact-form button {
            transition: all 0.3s ease-in-out;
        }

        /* Subtle 3D Hover Effect for Cards */
        .card-3d:hover {
            transform: translateY(-5px) rotateX(1deg) rotateY(1deg) scale(1.02);
            box-shadow: 0 15px 30px rgba(100, 30, 150, 0.4);
        }
        
        /* Responsive Carousel Container */
        .carousel-container {
            overflow: hidden;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s ease-in-out;
        }

        .carousel-slide {
            flex: 0 0 100%; /* Each slide takes full width of the container */
        }
    </style>
</head>

<body class="min-h-screen"> 

    <!-- Header & Navigation -->
    <header class="sticky top-0 z-50 transition-colors duration-500 shadow-xl bg-white/95 dark:bg-[#050505]/95 backdrop-blur-sm border-b border-indigo-200 dark:border-indigo-900">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <!-- Corrected data-bn to use Bengali Script -->
            <a href="#" class="text-3xl font-extrabold text-indigo-600 dark:text-indigo-400 tracking-wider logo" data-en="Satyanarayan Jyotishalay" data-bn="সত্যনারায়ণ জ্যোতিষালয়">Satyanarayan Jyotishalay</a>
            
            <!-- Desktop Nav -->
            <nav class="hidden md:flex space-x-6">
                <a href="#why-us" class="nav-link text-lg text-gray-800 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 hover:scale-105" data-en="Why Us" data-bn="কেন আমরা">Why Us</a>
                <a href="#services" class="nav-link text-lg text-gray-800 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 hover:scale-105" data-en="Services" data-bn="পরিষেবাসমূহ">Services</a>
                <a href="#about" class="nav-link text-lg text-gray-800 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 hover:scale-105" data-en="About" data-bn="আমাদের সম্পর্কে">About</a>
                <a href="#contact" class="nav-link text-lg text-gray-800 dark:text-white hover:text-indigo-600 dark:hover:text-indigo-400 hover:scale-105" data-en="Contact" data-bn="যোগাযোগ">Contact</a>
            </nav>

            <!-- Toggles & Mobile Menu Button -->
            <div class="flex items-center space-x-4">
                
                <!-- Language Toggle -->
                <button id="lang-toggle" class="p-2 rounded-full bg-indigo-500/10 hover:bg-indigo-500/20 text-indigo-600 dark:text-indigo-400 text-sm font-semibold transition-colors duration-300" data-lang="en">
                    BN/EN
                </button>

                <!-- Dark/Light Mode Toggle -->
                <button id="theme-toggle" class="p-2 rounded-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 transition-colors duration-300">
                    <i data-lucide="sun" class="w-6 h-6 text-yellow-500 dark:hidden block transition-transform"></i>
                    <i data-lucide="moon" class="w-6 h-6 text-gray-300 hidden dark:block transition-transform"></i>
                </button>
            </div>
        </div>
    </header>

    <main>
        
        <!-- Hero Section -->
        <section id="hero" class="py-20 md:py-32 bg-cover bg-center text-center transition-colors duration-500 bg-[#f5f5f5] dark:bg-[#0a0a0a]" style="background-image: url('https://placehold.co/1920x600/f5f5f5/000000?text=Cosmic+Background+Light')" data-en-text="Unlock Your Cosmic Blueprint" data-bn-text="আপনার মহাজাগতিক নকশা উন্মোচন করুন">
            <div class="container mx-auto px-4">
                <h1 class="text-5xl md:text-7xl font-extrabold mb-4 leading-tight text-[#000000] dark:text-white hero-title">Unlock Your Cosmic Blueprint</h1>
                <p class="text-xl md:text-2xl text-gray-800 dark:text-gray-300 max-w-3xl mx-auto mb-8 hero-subtitle" data-en="Navigate life's path with clarity and foresight through our personalized Vedic and Western astrological insights." data-bn="আমাদের ব্যক্তিগতকৃত বৈদিক এবং পাশ্চাত্য জ্যোতিষ অন্তর্দৃষ্টির মাধ্যমে স্পষ্টতা ও দূরদর্শিতার সাথে জীবনের পথ চালিত করুন।">
                    Navigate life's path with clarity and foresight through our personalized Vedic and Western astrological insights.
                </p>
                <a href="#services" class="inline-block py-3 px-8 bg-indigo-600 text-white font-bold rounded-full text-lg shadow-xl hover:bg-indigo-500 transform transition-all duration-300 hover:scale-105 hero-button" data-en="Explore Services" data-bn="পরিষেবাসমূহ দেখুন">Explore Services</a>
            </div>
        </section>

        <!-- Why Us Section -->
        <section id="why-us" class="py-16 md:py-24 transition-colors duration-500 dark:bg-[#0a0a0a] bg-[#f5f5f5]">
            <div class="container mx-auto px-4">
                <!-- Section Title -->
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12 text-[#000000] dark:text-white section-title" data-en="Why Choose Satyanarayan Jyotishalay?" data-bn="কেন সত্যনারায়ণ জ্যোতিষালয় বেছে নেবেন?">Why Choose Satyanarayan Jyotishalay?</h2>
                <div class="grid md:grid-cols-3 gap-8">
                    
                    <!-- Card 1 -->
                    <div class="card card-3d bg-white dark:bg-[#1a1a1a] p-8 rounded-xl shadow-lg transform perspective-1000 transition-all duration-500">
                        <i data-lucide="compass" class="w-10 h-10 text-indigo-600 dark:text-indigo-400 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-3 text-[#000000] dark:text-white card-title" data-en="Ethical Guidance" data-bn="নৈতিক নির্দেশনা">Ethical Guidance</h3>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="We prioritize confidentiality and provide actionable, honest advice, focusing on empowerment, not fear." data-bn="আমরা গোপনীয়তাকে অগ্রাধিকার দিই এবং ভয় নয়, ক্ষমতায়নের উপর মনোযোগ দিয়ে কার্যকর, সৎ পরামর্শ প্রদান করি।">We prioritize confidentiality and provide actionable, honest advice, focusing on empowerment, not fear.</p>
                    </div>

                    <!-- Card 2 -->
                    <div class="card card-3d bg-white dark:bg-[#1a1a1a] p-8 rounded-xl shadow-lg transform perspective-1000 transition-all duration-500">
                        <i data-lucide="infinity" class="w-10 h-10 text-indigo-600 dark:text-indigo-400 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-3 text-[#000000] dark:text-white card-title" data-en="Dual Methodology" data-bn="দ্বৈত পদ্ধতি">Dual Methodology</h3>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="Our experts blend the deep wisdom of Vedic astrology with the practical focus of Western techniques for a complete view." data-bn="আমাদের বিশেষজ্ঞরা একটি সম্পূর্ণ দৃশ্যের জন্য বৈদিক জ্যোতিষশাস্ত্রের গভীর জ্ঞানকে পশ্চিমা পদ্ধতির ব্যবহারিক ফোকাসের সাথে মিশ্রিত করেন।">Our experts blend the deep wisdom of Vedic astrology with the practical focus of Western techniques for a complete view.</p>
                    </div>
                    
                    <!-- Card 3 -->
                    <div class="card card-3d bg-white dark:bg-[#1a1a1a] p-8 rounded-xl shadow-lg transform perspective-1000 transition-all duration-500">
                        <i data-lucide="sparkles" class="w-10 h-10 text-indigo-600 dark:text-indigo-400 mb-4"></i>
                        <h3 class="text-2xl font-semibold mb-3 text-[#000000] dark:text-white card-title" data-en="Modern Application" data-bn="আধুনিক প্রয়োগ">Modern Application</h3>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="We interpret ancient texts for the modern world, offering relevance for career, relationships, and personal growth today." data-bn="আমরা আধুনিক বিশ্বের জন্য প্রাচীন গ্রন্থগুলির ব্যাখ্যা করি, আজকের কর্মজীবন, সম্পর্ক এবং ব্যক্তিগত বৃদ্ধির জন্য প্রাসঙ্গিকতা প্রদান করি।">We interpret ancient texts for the modern world, offering relevance for career, relationships, and personal growth today.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section id="services" class="py-16 md:py-24 transition-colors duration-500 dark:bg-[#050505] bg-white">
            <div class="container mx-auto px-4">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-12 text-[#000000] dark:text-white section-title" data-en="Our Services" data-bn="আমাদের পরিষেবা">Our Services</h2>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Service Cards - Updated text colors -->
                    <div class="card bg-gray-100 dark:bg-[#1a1a1a] p-6 rounded-xl shadow-md border border-indigo-400/20">
                        <div class="flex items-center mb-4">
                            <i data-lucide="star" class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3"></i>
                            <h3 class="text-xl font-semibold text-[#000000] dark:text-white card-title" data-en="Natal Chart Analysis" data-bn="জন্ম তালিকা বিশ্লেষণ">Natal Chart Analysis</h3>
                        </div>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="A deep dive into your birth chart to understand your core personality, strengths, and life challenges." data-bn="আপনার মূল ব্যক্তিত্ব, শক্তি এবং জীবনের চ্যালেঞ্জগুলি বোঝার জন্য আপনার জন্ম তালিকায় একটি গভীর পর্যালোচনা।">A deep dive into your birth chart to understand your core personality, strengths, and life challenges.</p>
                    </div>
                    <div class="card bg-gray-100 dark:bg-[#1a1a1a] p-6 rounded-xl shadow-md border border-indigo-400/20">
                        <div class="flex items-center mb-4">
                            <i data-lucide="clock" class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3"></i>
                            <h3 class="text-xl font-semibold text-[#000000] dark:text-white card-title" data-en="Predictive Astrology" data-bn="ভবিষ্যতের জ্যোতিষশাস্ত্র">Predictive Astrology</h3>
                        </div>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="Forecast major life cycles and timing of significant events using advanced transit and Dasha systems." data-bn="উন্নত গোচর এবং দশা সিস্টেম ব্যবহার করে প্রধান জীবন চক্র এবং গুরুত্বপূর্ণ ইভেন্টগুলির সময় পূর্বাভাস।">Forecast major life cycles and timing of significant events using advanced transit and Dasha systems.</p>
                    </div>
                    <div class="card bg-gray-100 dark:bg-[#1a1a1a] p-6 rounded-xl shadow-md border border-indigo-400/20">
                        <div class="flex items-center mb-4">
                            <i data-lucide="heart" class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3"></i>
                            <h3 class="text-xl font-semibold text-[#000000] dark:text-white card-title" data-en="Relationship Synastry" data-bn="সম্পর্ক সংগতি">Relationship Synastry</h3>
                        </div>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="Compare charts to reveal dynamics, compatibility, and areas for growth in partnerships and relationships." data-bn="অংশীদারিত্ব এবং সম্পর্কগুলিতে গতিশীলতা, সামঞ্জস্য এবং বৃদ্ধির ক্ষেত্রগুলি প্রকাশ করতে চার্ট তুলনা করুন।">Compare charts to reveal dynamics, compatibility, and areas for growth in partnerships and relationships.</p>
                    </div>
                    <div class="card hidden lg:block bg-gray-100 dark:bg-[#1a1a1a] p-6 rounded-xl shadow-md border border-indigo-400/20">
                        <div class="flex items-center mb-4">
                            <i data-lucide="briefcase" class="w-8 h-8 text-indigo-600 dark:text-indigo-400 mr-3"></i>
                            <h3 class="text-xl font-semibold text-[#000000] dark:text-white card-title" data-en="Career & Finance" data-bn="পেশা ও অর্থ">Career & Finance</h3>
                        </div>
                        <p class="text-gray-700 dark:text-gray-300 card-text" data-en="Identify optimal career paths, financial timing, and professional challenges based on planetary alignments." data-bn="গ্রহের বিন্যাসের উপর ভিত্তি করে সর্বোত্তম কর্মজীবনের পথ, আর্থিক সময় এবং পেশাগত চ্যালেঞ্জগুলি চিহ্নিত করুন।">Identify optimal career paths, financial timing, and professional challenges based on planetary alignments.</p>
                    </div>
                </div>

                <!-- Testimonial Carousel - Updated BG/Text colors -->
                <div class="mt-16 bg-gray-50 dark:bg-[#1a1a1a] p-8 rounded-xl shadow-2xl relative">
                    <h3 class="text-3xl font-bold text-center mb-6 text-indigo-600 dark:text-indigo-400 testimonial-header" data-en="What Our Clients Say" data-bn="আমাদের ক্লায়েন্টরা কী বলেন">What Our Clients Say</h3>
                    
                    <div class="carousel-container h-40">
                        <div class="carousel-track" id="testimonial-track">
                            <div class="carousel-slide text-center p-4">
                                <p class="text-xl italic mb-4 text-gray-700 dark:text-gray-300 testimonial-text" data-en="&quot;The reading was incredibly accurate and provided the clarity I needed to make a difficult career decision. Highly recommended!&quot;" data-bn="&quot;পঠনটি অবিশ্বাস্যভাবে সঠিক ছিল এবং একটি কঠিন কর্মজীবনের সিদ্ধান্ত নিতে আমার প্রয়োজনীয় স্পষ্টতা দিয়েছে। অত্যন্ত সুপারিশকৃত!&quot;">
                                    "The reading was incredibly accurate and provided the clarity I needed to make a difficult career decision. Highly recommended!"
                                </p>
                                <p class="font-semibold text-indigo-600 dark:text-indigo-500 testimonial-author" data-en="- Alok K., Mumbai" data-bn="- অলোক কে., মুম্বাই">- Alok K., Mumbai</p>
                            </div>
                            <div class="carousel-slide text-center p-4">
                                <p class="text-xl italic mb-4 text-gray-700 dark:text-gray-300 testimonial-text" data-en="&quot;I appreciate the ethical and empowering approach. Satyanarayan Jyotishalay truly helps you navigate life, not just predict it.&quot;" data-bn="&quot;আমি নৈতিক এবং ক্ষমতায়নকারী পদ্ধতির প্রশংসা করি। সত্যনারায়ণ জ্যোতিষালয় সত্যিই আপনাকে জীবন নেভিগেট করতে সাহায্য করে, কেবল ভবিষ্যদ্বাণী করে না।&quot;">
                                    "I appreciate the ethical and empowering approach. Satyanarayan Jyotishalay truly helps you navigate life, not just predict it."
                                </p>
                                <p class="font-semibold text-indigo-600 dark:text-indigo-500 testimonial-author" data-en="- Jane D., London" data-bn="- জেন ডি., লন্ডন">- Jane D., London</p>
                            </div>
                            <div class="carousel-slide text-center p-4">
                                <p class="text-xl italic mb-4 text-gray-700 dark:text-gray-300 testimonial-text" data-en="&quot;Bengali translation was flawless, making a complex subject easy to understand. A truly professional service.&quot;" data-bn="&quot;বাংলা অনুবাদটি ছিল ত্রুটিমুক্ত, একটি জটিল বিষয়কে সহজে বোধগম্য করেছে। একটি সত্যিকারের পেশাদার পরিষেবা।&quot;">
                                    "Bengali translation was flawless, making a complex subject easy to understand. A truly professional service."
                                </p>
                                <p class="font-semibold text-indigo-600 dark:text-indigo-500 testimonial-author" data-en="- Rina S., Kolkata" data-bn="- রিনা এস., কলকাতা">- Rina S., Kolkata</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Carousel Controls -->
                    <button class="absolute top-1/2 left-0 transform -translate-y-1/2 p-2 rounded-full bg-indigo-500/50 hover:bg-indigo-600 text-white transition-opacity duration-300" onclick="moveCarousel(-1)">
                        <i data-lucide="chevron-left" class="w-6 h-6"></i>
                    </button>
                    <button class="absolute top-1/2 right-0 transform -translate-y-1/2 p-2 rounded-full bg-indigo-500/50 hover:bg-indigo-600 text-white transition-opacity duration-300" onclick="moveCarousel(1)">
                        <i data-lucide="chevron-right" class="w-6 h-6"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 md:py-24 transition-colors duration-500 dark:bg-[#0a0a0a] bg-[#f5f5f5]">
            <div class="container mx-auto px-4 grid md:grid-cols-2 gap-12 items-center">
                
                <!-- Image Placeholder -->
                <div class="order-2 md:order-1 transform hover:rotate-1 shadow-2xl transition-transform duration-500 rounded-xl overflow-hidden">
                    <img src="https://placehold.co/800x600/5a67d8/ffffff?text=Astrologer+Image" alt="Lead Astrologer" class="w-full h-auto object-cover">
                </div>
                
                <!-- Content -->
                <div class="order-1 md:order-2">
                    <h2 class="text-4xl md:text-5xl font-bold mb-6 text-[#000000] dark:text-white section-title" data-en="Meet Our Lead Astrologer" data-bn="আমাদের প্রধান জ্যোতিষীর সাথে দেখা করুন">Meet Our Lead Astrologer</h2>
                    <p class="text-lg mb-4 text-gray-700 dark:text-gray-300 about-text-1" data-en="Founded by **Dr. Anya Sharma**, Satyanarayan Jyotishalay is built on two decades of dedicated study in both ancient Vedic principles and modern psychological astrology. Dr. Sharma's mission is to bridge the gap between cosmic influence and practical, everyday decision-making." data-bn="**ডঃ অন্য শর্মা** দ্বারা প্রতিষ্ঠিত, সত্যনারায়ণ জ্যোতিষালয় প্রাচীন বৈদিক নীতি এবং আধুনিক মনস্তাত্ত্বিক জ্যোতিষশাস্ত্র উভয় ক্ষেত্রেই দুই দশকের নিবেদিত অধ্যয়নের উপর নির্মিত। ডঃ শর্মার লক্ষ্য হল মহাজাগতিক প্রভাব এবং ব্যবহারিক, দৈনন্দিন সিদ্ধান্ত গ্রহণের মধ্যে ব্যবধান পূরণ করা।">
                        Founded by **Dr. Anya Sharma**, Satyanarayan Jyotishalay is built on two decades of dedicated study in both ancient Vedic principles and modern psychological astrology. Dr. Sharma's mission is to bridge the gap between cosmic influence and practical, everyday decision-making.
                    </p>
                    <p class="text-lg text-gray-700 dark:text-gray-300 about-text-2" data-en="We believe true insight comes from a holistic understanding of the self. Your birth chart is a map, and we are here to provide the compass." data-bn="আমরা বিশ্বাস করি যে সত্যিকারের অন্তর্দৃষ্টি স্ব-এর একটি সামগ্রিক বোঝার থেকে আসে। আপনার জন্ম তালিকা একটি মানচিত্র, এবং আমরা এখানে কম্পাস সরবরাহ করতে এসেছি।">
                        We believe true insight comes from a holistic understanding of the self. Your birth chart is a map, and we are here to provide the compass.
                    </p>
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-16 md:py-24 transition-colors duration-500 dark:bg-[#050505] bg-white">
            <div class="container mx-auto px-4 max-w-2xl">
                <h2 class="text-4xl md:text-5xl font-bold text-center mb-6 text-[#000000] dark:text-white section-title" data-en="Get In Touch" data-bn="যোগাযোগ করুন">Get In Touch</h2>
                <p class="text-center text-lg mb-10 text-gray-700 dark:text-gray-300 contact-subtitle" data-en="Send us a message and we will respond within 24 hours." data-bn="আমাদের একটি বার্তা পাঠান এবং আমরা ২৪ ঘন্টার মধ্যে উত্তর দেব।">Send us a message and we will respond within 24 hours.</p>
                
                <form id="contact-form" class="bg-gray-100 dark:bg-[#1a1a1a] p-8 rounded-xl shadow-2xl space-y-6">
                    <div>
                        <label for="name" class="block text-sm font-medium mb-2 text-[#000000] dark:text-white label-name" data-en="Your Name" data-bn="আপনার নাম">Your Name</label>
                        <input type="text" id="name" name="name" required class="w-full p-3 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-[#000000] dark:text-white focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-300">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium mb-2 text-[#000000] dark:text-white label-email" data-en="Your Email" data-bn="আপনার ইমেল">Your Email</label>
                        <input type="email" id="email" name="email" required class="w-full p-3 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-[#000000] dark:text-white focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-300">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium mb-2 text-[#000000] dark:text-white label-message" data-en="Message" data-bn="বার্তা">Message</label>
                        <textarea id="message" name="message" rows="4" required class="w-full p-3 border border-gray-300 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-[#000000] dark:text-white focus:ring-indigo-500 focus:border-indigo-500 transition-colors duration-300"></textarea>
                    </div>
                    
                    <button type="submit" class="w-full py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-lg hover:bg-indigo-500 transition-all duration-300 transform hover:scale-[1.01] submit-button" data-en="Send Message" data-bn="বার্তা পাঠান">
                        Send Message
                    </button>
                    
                    <!-- Notification Box (for success/error) -->
                    <div id="contact-message" class="hidden p-4 rounded-lg font-medium text-center" role="alert"></div>
                </form>
                
                <!-- User ID text color adjusted -->
                <p class="text-center text-xs mt-4 text-gray-500 dark:text-gray-300 user-id-display" id="user-id-display"></p>
            </div>
        </section>

    </main>

    <!-- Footer - Updated BG/Text colors -->
    <footer class="dark:bg-[#050505] bg-gray-200 py-8 transition-colors duration-500 border-t border-indigo-400/20">
        <div class="container mx-auto px-4 text-center">
            <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-8 mb-4">
                <a href="#services" class="text-gray-700 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300 footer-link-1" data-en="Services" data-bn="পরিষেবাসমূহ">Services</a>
                <a href="#about" class="text-gray-700 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300 footer-link-2" data-en="Privacy Policy" data-bn="গোপনীয়তা নীতি">Privacy Policy</a>
                <a href="#contact" class="text-gray-700 dark:text-gray-400 hover:text-indigo-600 dark:hover:text-indigo-400 transition-colors duration-300 footer-link-3" data-en="Careers" data-bn="কর্মজীবন">Careers</a>
            </div>
            <!-- Footer text color adjusted -->
            <p class="text-gray-500 dark:text-gray-400 text-sm footer-text" data-en="&copy; 2025 Satyanarayan Jyotishalay. All rights reserved. | Site Code: Responsive-Astrology-App" data-bn="&copy; 2025 সত্যনারায়ণ জ্যোতিষালয়। সর্বস্বত্ব সংরক্ষিত। | সাইট কোড: Responsive-Astrology-App">
                &copy; 2025 Satyanarayan Jyotishalay. All rights reserved. | Site Code: Responsive-Astrology-App
            </p>
        </div>
    </footer>

    <!-- JavaScript for Interactivity -->
    <script>
        // --- GLOBAL STATE ---
        let currentLang = 'en';
        let currentSlide = 0;
        const totalSlides = 3; 

        // --- TRANSLATION DATA (English <--> Bengali) ---
        // CONFIRMED: All Bengali text is now in Bengali script (not Hindi Devanagari)
        const translationMap = {
            'Satyanarayan Jyotishalay': 'সত্যনারায়ণ জ্যোতিষালয়',
            'Why Us': 'কেন আমরা',
            'Services': 'পরিষেবাসমূহ',
            'About': 'আমাদের সম্পর্কে',
            'Contact': 'যোগাযোগ',
            'Privacy Policy': 'গোপনীয়তা নীতি',
            'Careers': 'কর্মজীবন',
            'Unlock Your Cosmic Blueprint': 'আপনার মহাজাগতিক নকশা উন্মোচন করুন',
            'Navigate life\'s path with clarity and foresight through our personalized Vedic and Western astrological insights.': 'আমাদের ব্যক্তিগতকৃত বৈদিক এবং পাশ্চাত্য জ্যোতিষ অন্তর্দৃষ্টির মাধ্যমে স্পষ্টতা ও দূরদর্শিতার সাথে জীবনের পথ চালিত করুন।',
            'Explore Services': 'পরিষেবাসমূহ দেখুন',
            'Why Choose Satyanarayan Jyotishalay?': 'কেন সত্যনারায়ণ জ্যোতিষালয় বেছে নেবেন?',
            'Ethical Guidance': 'নৈতিক নির্দেশনা',
            'We prioritize confidentiality and provide actionable, honest advice, focusing on empowerment, not fear.': 'আমরা গোপনীয়তাকে অগ্রাধিকার দিই এবং ভয় নয়, ক্ষমতায়নের উপর মনোযোগ দিয়ে কার্যকর, সৎ পরামর্শ প্রদান করি।',
            'Dual Methodology': 'দ্বৈত পদ্ধতি',
            'Our experts blend the deep wisdom of Vedic astrology with the practical focus of Western techniques for a complete view.': 'আমাদের বিশেষজ্ঞরা একটি সম্পূর্ণ দৃশ্যের জন্য বৈদিক জ্যোতিষশাস্ত্রের গভীর জ্ঞানকে পশ্চিমা পদ্ধতির ব্যবহারিক ফোকাসের সাথে মিশ্রিত করেন।',
            'Modern Application': 'আধুনিক প্রয়োগ',
            'We interpret ancient texts for the modern world, offering relevance for career, relationships, and personal growth today.': 'আমরা আধুনিক বিশ্বের জন্য প্রাচীন গ্রন্থগুলির ব্যাখ্যা করি, আজকের কর্মজীবন, সম্পর্ক এবং ব্যক্তিগত বৃদ্ধির জন্য প্রাসঙ্গিকতা প্রদান করি।',
            'Our Services': 'আমাদের পরিষেবা',
            'Natal Chart Analysis': 'জন্ম তালিকা বিশ্লেষণ',
            'A deep dive into your birth chart to understand your core personality, strengths, and life challenges.': 'আপনার মূল ব্যক্তিত্ব, শক্তি এবং জীবনের চ্যালেঞ্জগুলি বোঝার জন্য আপনার জন্ম তালিকায় একটি গভীর পর্যালোচনা।',
            'Predictive Astrology': 'ভবিষ্যতের জ্যোতিষশাস্ত্র',
            'Forecast major life cycles and timing of significant events using advanced transit and Dasha systems.': 'উন্নত গোচর এবং দশা সিস্টেম ব্যবহার করে প্রধান জীবন চক্র এবং গুরুত্বপূর্ণ ইভেন্টগুলির সময় পূর্বাভাস।',
            'Relationship Synastry': 'সম্পর্ক সংগতি',
            'Compare charts to reveal dynamics, compatibility, and areas for growth in partnerships and relationships.': 'অংশীদারিত্ব এবং সম্পর্কগুলিতে গতিশীলতা, সামঞ্জস্য এবং বৃদ্ধির ক্ষেত্রগুলি প্রকাশ করতে চার্ট তুলনা করুন।',
            'Career & Finance': 'পেশা ও অর্থ',
            'Identify optimal career paths, financial timing, and professional challenges based on planetary alignments.': 'গ্রহের বিন্যাসের উপর ভিত্তি করে সর্বোত্তম কর্মজীবনের পথ, আর্থিক সময় এবং পেশাগত চ্যালেঞ্জগুলি চিহ্নিত করুন।',
            'What Our Clients Say': 'আমাদের ক্লায়েন্টরা কী বলেন',
            '"The reading was incredibly accurate and provided the clarity I needed to make a difficult career decision. Highly recommended!"': '"পঠনটি অবিশ্বাস্যভাবে সঠিক ছিল এবং একটি কঠিন কর্মজীবনের সিদ্ধান্ত নিতে আমার প্রয়োজনীয় স্পষ্টতা দিয়েছে। অত্যন্ত সুপারিশকৃত!"',
            '- Alok K., Mumbai': '- অলোক কে., মুম্বাই',
            '"I appreciate the ethical and empowering approach. Satyanarayan Jyotishalay truly helps you navigate life, not just predict it."': '"আমি নৈতিক এবং ক্ষমতায়নকারী পদ্ধতির প্রশংসা করি। সত্যনারায়ণ জ্যোতিষালয় সত্যিই আপনাকে জীবন নেভিগেট করতে সাহায্য করে, কেবল ভবিষ্যদ্বাণী করে না।"',
            '- Jane D., London': '- জেন ডি., লন্ডন',
            '"Bengali translation was flawless, making a complex subject easy to understand. A truly professional service."': '"বাংলা অনুবাদটি ছিল ত্রুটিমুক্ত, একটি জটিল বিষয়কে সহজে বোধগম্য করেছে। একটি সত্যিকারের পেশাদার পরিষেবা।"',
            '- Rina S., Kolkata': '- রিনা এস., কলকাতা',
            'Meet Our Lead Astrologer': 'আমাদের প্রধান জ্যোতিষীর সাথে দেখা করুন',
            'Founded by **Dr. Anya Sharma**, Satyanarayan Jyotishalay is built on two decades of dedicated study in both ancient Vedic principles and modern psychological astrology. Dr. Sharma\'s mission is to bridge the gap between cosmic influence and practical, everyday decision-making.': '**ডঃ অন্য শর্মা** দ্বারা প্রতিষ্ঠিত, সত্যনারায়ণ জ্যোতিষালয় প্রাচীন বৈদিক নীতি এবং আধুনিক মনস্তাত্ত্বিক জ্যোতিষশাস্ত্র উভয় ক্ষেত্রেই দুই দশকের নিবেদিত অধ্যয়নের উপর নির্মিত। ডঃ শর্মার লক্ষ্য হল মহাজাগতিক প্রভাব এবং ব্যবহারিক, দৈনন্দিন সিদ্ধান্ত গ্রহণের মধ্যে ব্যবধান পূরণ করা।',
            'We believe true insight comes from a holistic understanding of the self. Your birth chart is a map, and we are here to provide the compass.': 'আমরা বিশ্বাস করি যে সত্যিকারের অন্তর্দৃষ্টি স্ব-এর একটি সামগ্রিক বোঝার থেকে আসে। আপনার জন্ম তালিকা একটি মানচিত্র, এবং আমরা এখানে কম্পাস সরবরাহ করতে এসেছি।',
            'Get In Touch': 'যোগাযোগ করুন',
            'Send us a message and we will respond within 24 hours.': 'আমাদের একটি বার্তা পাঠান এবং আমরা ২৪ ঘন্টার মধ্যে উত্তর দেব।',
            'Your Name': 'আপনার নাম',
            'Your Email': 'আপনার ইমেল',
            'Message': 'বার্তা',
            'Send Message': 'বার্তা পাঠান',
            '&copy; 2025 Satyanarayan Jyotishalay. All rights reserved. | Site Code: Responsive-Astrology-App': '&copy; 2025 সত্যনারায়ণ জ্যোতিষালয়। সর্বস্বত্ব সংরক্ষিত। | সাইট কোড: Responsive-Astrology-App',
        };

        // --- LANGUAGE TOGGLE LOGIC ---
        function applyTranslation(lang) {
            currentLang = lang;
            const elements = document.querySelectorAll('[data-en], [data-bn]');
            const isBengali = lang === 'bn';

            elements.forEach(el => {
                const englishKey = el.getAttribute('data-en');

                if (isBengali) {
                    // Use translated text from map
                    if (englishKey && translationMap[englishKey]) {
                        el.textContent = translationMap[englishKey];
                    }
                } else {
                    // Revert to English text from data attribute
                    if (englishKey) {
                        el.textContent = englishKey;
                    }
                }
            });

            document.getElementById('lang-toggle').textContent = isBengali ? 'EN/BN' : 'BN/EN';
            document.getElementById('lang-toggle').setAttribute('data-lang', lang);
        }

        // --- CAROUSEL LOGIC ---
        const track = document.getElementById('testimonial-track');
        function moveCarousel(direction) {
            currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
            const offset = -currentSlide * 100;
            if (track) {
                track.style.transform = `translateX(${offset}%)`;
            }
        }

        // --- CONTACT FORM SUBMISSION (Firestore) ---
        const contactForm = document.getElementById('contact-form');
        const contactMessage = document.getElementById('contact-message');

        function displayMessage(text, isSuccess) {
            if (!contactMessage) return;

            contactMessage.textContent = text;
            contactMessage.classList.remove('hidden', 'bg-red-100', 'text-red-700', 'bg-green-100', 'text-green-700', 'dark:bg-red-900', 'dark:text-red-200', 'dark:bg-green-900', 'dark:text-green-200');
            if (isSuccess) {
                contactMessage.classList.add('bg-green-100', 'text-green-700', 'dark:bg-green-900', 'dark:text-green-200');
            } else {
                contactMessage.classList.add('bg-red-100', 'text-red-700', 'dark:bg-red-900', 'dark:text-red-200');
            }
            setTimeout(() => {
                contactMessage.classList.add('hidden');
            }, 5000);
        }
        
        // Listener for the form
        function handleFormSubmit(e) {
            e.preventDefault();

            if (!window.isAuthReady || !window.db) {
                displayMessage(currentLang === 'en' ? "System not ready. Please wait a moment and try again." : "সিস্টেম প্রস্তুত নয়। কিছুক্ষণ অপেক্ষা করুন এবং আবার চেষ্টা করুন।", false);
                console.error("Firebase/Auth not initialized or ready.");
                return;
            }

            const formData = new FormData(contactForm);
            const data = Object.fromEntries(formData.entries());
            data.timestamp = new Date();
            data.userId = window.userId;

            const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
            // Use public path for contact forms
            const collectionPath = `/artifacts/${appId}/public/data/contact_messages`;
            
            async function attemptAddDoc() {
                const maxRetries = 5;
                let attempt = 0;
                let docRef = null;

                while (attempt < maxRetries) {
                    try {
                        // Firebase Firestore addDoc function needs to be used with the global db instance and imported collection function
                        docRef = await window.addDoc(window.collection(window.db, collectionPath), data);
                        break;
                    } catch (error) {
                        attempt++;
                        if (attempt >= maxRetries) throw error;
                        const delay = Math.pow(2, attempt) * 1000;
                        await new Promise(resolve => setTimeout(resolve, delay));
                    }
                }
                return docRef;
            }

            attemptAddDoc().then(docRef => {
                if (docRef) {
                    displayMessage(currentLang === 'en' ? "Message sent successfully! We will be in touch soon." : "বার্তা সফলভাবে পাঠানো হয়েছে! আমরা শীঘ্রই আপনার সাথে যোগাযোগ করব।", true);
                    contactForm.reset();
                } else {
                     throw new Error("Failed to add document after multiple retries.");
                }
            }).catch(error => {
                console.error("Error submitting contact form to Firestore:", error);
                displayMessage(currentLang === 'en' ? `Submission failed: ${error.message}` : `জমা দেওয়া ব্যর্থ হয়েছে: ${error.message}`, false);
            });
        }


        // --- THEME TOGGLE LOGIC ---
        function setupThemeToggle() {
            // 1. Initial Theme Setup
            const initialTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
            if (initialTheme === 'dark') {
                document.documentElement.classList.add('dark');
            }

            // 2. Attach Listener
            const themeToggle = document.getElementById('theme-toggle');
            if (themeToggle) {
                themeToggle.addEventListener('click', () => {
                    // Toggle the 'dark' class on the root HTML element
                    const isDark = document.documentElement.classList.toggle('dark');
                    // Save preference to localStorage
                    localStorage.setItem('theme', isDark ? 'dark' : 'light');
                    console.log(`Theme set to: ${isDark ? 'dark' : 'light'}`);
                });
            } else {
                console.error("Theme Toggle button not found.");
            }
        }


        // --- INITIALIZATION - EVERYTHING RUNS AFTER THE DOM IS READY ---
        document.addEventListener('DOMContentLoaded', function() {
            // 1. Set up Theme 
            setupThemeToggle();

            // 2. Initialize Lucide Icons
            lucide.createIcons();
            
            // 3. Attach Language Toggle Listener
            const langToggle = document.getElementById('lang-toggle');
            if (langToggle) {
                langToggle.addEventListener('click', () => {
                    const newLang = currentLang === 'en' ? 'bn' : 'en';
                    applyTranslation(newLang);
                });
            }
            
            // 4. Initial language application (defaults to English)
            applyTranslation('en');

            // 5. Start Carousel Auto-advance
            setInterval(() => moveCarousel(1), 5000);

            // 6. Attach Contact Form Submission Listener
            if (contactForm) {
                contactForm.addEventListener('submit', handleFormSubmit);
            }

            // 7. Display User ID
            const displayUserId = document.getElementById('user-id-display');
            if (displayUserId) {
                const checkAuth = setInterval(() => {
                    if (window.isAuthReady && window.userId) {
                        displayUserId.textContent = `User ID: ${window.userId}`;
                        clearInterval(checkAuth);
                    }
                }, 100);
            }
        });

    </script>
</body>
</html>
